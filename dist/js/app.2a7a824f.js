(function(t){function e(e){for(var c,a,i=e[0],u=e[1],l=e[2],s=0,b=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&b.push(n[a][0]),n[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(t[c]=u[c]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],c=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(c=!1)}c&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var c={},n={app:0},o=[];function a(e){if(c[e])return c[e].exports;var r=c[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=c,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)a.d(r,c,function(e){return t[e]}.bind(null,c));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("7a23"),n={class:"container"},o=Object(c["e"])("h1",{class:"py-4 text-center"},"Mi Carrito",-1),a=Object(c["e"])("hr",null,null,-1),i={class:"row"};function u(t,e,r,u,l,d){var s=Object(c["l"])("Carrito"),b=Object(c["l"])("Card");return Object(c["i"])(),Object(c["d"])("div",n,[o,Object(c["g"])(s),a,Object(c["e"])("div",i,[(Object(c["i"])(!0),Object(c["d"])(c["a"],null,Object(c["k"])(u.productos,(function(t){return Object(c["i"])(),Object(c["c"])(b,{key:t.id,producto:t},null,8,["producto"])})),128))])])}var l=r("5502"),d=r("5c40"),s={class:"col-12 col-sm-4 col-md-3 col-lg-2 mb-3"},b={class:"card"},O=["src","alt"],j={class:"card-body"},p={class:"card-title"},f={class:"card-text"},m=Object(c["e"])("span",null,null,-1);function v(t,e,r,n,o,a){return Object(c["i"])(),Object(c["d"])("div",s,[Object(c["e"])("div",b,[Object(c["e"])("img",{src:r.producto.thumbnailUrl,alt:"imagen-".concat(r.producto.title),class:"card-img-top"},null,8,O),Object(c["e"])("div",j,[Object(c["e"])("h5",p,Object(c["m"])(r.producto.title),1),Object(c["e"])("p",f,[Object(c["f"])("$ "+Object(c["m"])(r.producto.precio),1),m]),Object(c["e"])("button",{class:"btn btn-dark",onClick:e[0]||(e[0]=function(t){return n.agregar(r.producto)})},"Comprar")])])])}var h={props:["producto"],setup:function(){var t=Object(l["b"])(),e=function(e){t.dispatch("agregarAlCarro",e)};return{agregar:e}}},g=r("6b0d"),y=r.n(g);const C=y()(h,[["render",v]]);var w=C,k=(r("b64b"),{class:"my-5"}),P=Object(c["e"])("h4",null,"Carrito de compras",-1),x={class:"table"},_=Object(c["e"])("thead",null,[Object(c["e"])("tr",null,[Object(c["e"])("th",{scope:"col"},"#"),Object(c["e"])("th",{scope:"col"},"Item"),Object(c["e"])("th",{scope:"col"},"Cantidad"),Object(c["e"])("th",{scope:"col"},"Acción"),Object(c["e"])("th",{scope:"col"},"Total")])],-1),M={id:"items"},S={id:"footer-carrito"},A={key:0,scope:"row",colspan:"5"};function T(t,e,r,n,o,a){var i=Object(c["l"])("Item"),u=Object(c["l"])("Footer");return Object(c["i"])(),Object(c["d"])("div",k,[P,Object(c["e"])("table",x,[_,Object(c["e"])("tbody",M,[(Object(c["i"])(!0),Object(c["d"])(c["a"],null,Object(c["k"])(n.items,(function(t){return Object(c["i"])(),Object(c["c"])(i,{key:t.id,item:t},null,8,["item"])})),128))]),Object(c["e"])("tfoot",null,[Object(c["e"])("tr",S,[0===Object.keys(n.items).length?(Object(c["i"])(),Object(c["d"])("th",A,"Carrito vacío - comience a comprar!")):(Object(c["i"])(),Object(c["c"])(u,{key:1}))])])])])}var I={scope:"row"};function $(t,e,r,n,o,a){return Object(c["i"])(),Object(c["d"])("tr",null,[Object(c["e"])("th",I,Object(c["m"])(r.item.id),1),Object(c["e"])("td",null,Object(c["m"])(r.item.title),1),Object(c["e"])("td",null,Object(c["m"])(r.item.cantidad),1),Object(c["e"])("td",null,[Object(c["e"])("button",{class:"btn btn-info btn-sm",onClick:e[0]||(e[0]=function(t){return n.aumentar(r.item.id)})}," + "),Object(c["e"])("button",{class:"btn btn-danger btn-sm",onClick:e[1]||(e[1]=function(t){return n.disminuir(r.item.id)})}," - ")]),Object(c["e"])("td",null,"$"+Object(c["m"])(r.item.precio*r.item.cantidad),1)])}var D={props:["item"],setup:function(){var t=Object(l["b"])(),e=function(e){t.commit("aumentarCantidad",e)},r=function(e){t.commit("disminuirCantidad",e)};return{aumentar:e,disminuir:r}}};const F=y()(D,[["render",$]]);var J=F,R=Object(c["e"])("th",{scope:"row",colspan:"2"},"Total productos",-1),U={class:"fw-bold"},V=Object(c["f"])("$ ");function q(t,e,r,n,o,a){return Object(c["i"])(),Object(c["d"])(c["a"],null,[R,Object(c["e"])("td",null,Object(c["m"])(n.totalCantidad),1),Object(c["e"])("td",null,[Object(c["e"])("button",{class:"btn btn-danger btn-sm",id:"vaciar-carrito",onClick:e[0]||(e[0]=function(){return n.vaciar&&n.vaciar.apply(n,arguments)})}," Vaciar todo ")]),Object(c["e"])("td",U,[V,Object(c["e"])("span",null,Object(c["m"])(n.totalPrecio),1)])],64)}var z={setup:function(){var t=Object(l["b"])(),e=Object(d["e"])((function(){return t.getters.totalCantidad})),r=Object(d["e"])((function(){return t.getters.totalPrecio})),c=function(){t.commit("vaciarCarrito")};return{totalCantidad:e,totalPrecio:r,vaciar:c}}};const B=y()(z,[["render",q]]);var E=B,G={components:{Item:J,Footer:E},setup:function(){var t=Object(l["b"])(),e=Object(d["e"])((function(){return t.state.carrito}));return{items:e}}};const H=y()(G,[["render",T]]);var K=H,L={name:"App",components:{Card:w,Carrito:K},setup:function(){var t=Object(l["b"])();Object(d["u"])((function(){t.dispatch("fetchData")}));var e=Object(d["e"])((function(){return t.state.productos})),r=Object(d["e"])((function(){return t.state.carrito}));return{productos:e,carrito:r}}};const N=y()(L,[["render",u]]);var Q=N,W=r("1da1"),X=(r("96cf"),r("d3b7"),r("07ac"),Object(l["a"])({state:{productos:[],carrito:{}},mutations:{setProducto:function(t,e){t.productos=e,console.log(t.productos)},setCarrito:function(t,e){t.carrito[e.id]=e},vaciarCarrito:function(t){t.carrito={}},aumentarCantidad:function(t,e){t.carrito[e].cantidad=t.carrito[e].cantidad+1},disminuirCantidad:function(t,e){t.carrito[e].cantidad=t.carrito[e].cantidad-1,0===t.carrito[e].cantidad&&delete t.carrito[e]}},actions:{fetchData:function(t){return Object(W["a"])(regeneratorRuntime.mark((function e(){var r,c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,fetch("api.json");case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,r("setProducto",n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))()},agregarAlCarro:function(t,e){var r=t.commit,c=t.state;c.carrito.hasOwnProperty(e.id)?e.cantidad=c.carrito[e.id].cantidad+1:e.cantidad=1,r("setCarrito",e)}},getters:{totalCantidad:function(t){return Object.values(t.carrito).reduce((function(t,e){var r=e.cantidad;return t+r}),0)},totalPrecio:function(t){return Object.values(t.carrito).reduce((function(t,e){var r=e.cantidad,c=e.precio;return t+c*r}),0)}},modules:{}}));Object(c["b"])(Q).use(X).mount("#app")}});
//# sourceMappingURL=app.2a7a824f.js.map